{"version":3,"sources":["../src/ityped.js"],"names":["root","factory","define","amd","exports","module","init","ityped","global","a","forEach","b","c","d","e","length","f","g","h","j","call","async","el","props","cursor","document","createElement","classList","add","textContent","element","config","querySelector","strings","typeSpeed","pause","loop","insertAdjacentElement","words","len","loopingOnWords","handler","word","index","arr","time","done","iterateWords","then","setTimeout","increment","span","interval","Promise","resolve","reject","i","count","wordIndex","appendWord","charAt","innerHTML","wordsLengthArray","decrement","interateInsideDecrement","iteratedI","substring","lengthWords"],"mappings":"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","file":"ityped.js","sourcesContent":["/**\n * @name ityped\n * @description Dead simple Animated Type with no dependencies\n * @author Luis VinÃ­cius\n */;\n(function (root, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([], factory);\n  } else if (typeof exports === \"object\") {\n    module.exports = {\n      init: factory.init\n    }\n  } else {\n    root.ityped = factory;\n  }\n}(this, function (global) {\n  (function (a) {\n    a.forEach = function (a, b, c) {\n      var d = -1,\n        e = a.length >>> 0;\n      (function f(g) {\n        var h,\n          j = g === !1;\n        do \n          ++d;\n        while (!(d in a) && d !== e);\n        if (j || d === e) {\n          c && c(!j, a);\n          return\n        }\n        g = b.call({\n          async: function () {\n            return h = !0,\n            f\n          }\n        }, a[d], d, a),\n        h || f(g)\n      })()\n    }\n  })(typeof exports == \"object\" && exports || global);\n\n  /**\n   * el is the element\n   */\n  let el,\n    props,\n    cursor = document.createElement('span');\n\n  /**\n   * creating the cursor\n   */\n  cursor\n    .classList\n    .add('ityped-cursor');\n  cursor.textContent = '|';\n\n  function init(element, config) {\n    el = document.querySelector(element);\n\n    props = config;\n    props.strings = config.strings || ['Put you string here...', 'and Enjoy!']\n    props.typeSpeed = config.typeSpeed || 70;\n    props.pause = config.pause || 500;\n    props.loop = config.loop || false;\n\n    el.insertAdjacentElement('afterend', cursor);\n    let words = props.strings,\n      len = words.length;\n\n    loopingOnWords(words);\n  }\n\n  function loopingOnWords(words, handler) {\n    forEach(words, function (word, index, arr) {\n      let time = props.typeSpeed * word.length - 1;\n      var done = this.async();\n      let len = words.length;\n      iterateWords(el, word, index, len).then(function () {\n        setTimeout(function () {\n          done();\n        }, time)\n      })\n    }, function () {\n      if (props.loop) {\n        loopingOnWords(words);\n      }\n    });\n  }\n\n  function increment(span, word, interval) {\n    return new Promise(function (resolve, reject) {\n      for (let i = 0; i < word.length; i++) {\n        count = 0;\n        let wordIndex = i;\n        let len = word.length;\n        setTimeout(function (i) {\n          appendWord(span, word.charAt(wordIndex));\n          count++;\n          if (count === len - 1) {\n            resolve();\n          }\n        }, props.typeSpeed * i);\n      }\n    })\n  }\n\n  function appendWord(el, word) {\n    el.innerHTML += word;\n  }\n\n  function iterateWords(element, word, index, wordsLengthArray) {\n    return new Promise(function (resolve, reject) {\n      increment(element, word)\n        .then(function () {\n          setTimeout(function () {\n            decrement(element, word, index, wordsLengthArray)\n              .then(function () {\n                resolve();\n              });\n          }, (props.pause || props.typeSpeed * 2))\n        });\n    })\n  }\n\n  function interateInsideDecrement(span, word, len, resolve) {\n    for (var i = len; i > 0; i--) {\n      let iteratedI = i;\n      let count = len;\n      setTimeout(function (i) {\n        span.innerHTML = word.substring(0, len - iteratedI)\n        count--;\n        if (iteratedI === 1) {\n          resolve();\n        }\n      }, props.typeSpeed / 3 * i);\n    }\n  }\n\n  function decrement(span, word, index, lengthWords) {\n    return new Promise(function (resolve, reject) {\n      let len = word.length;\n      if (!props.loop && index + 1 === lengthWords) {\n        span.innerHTML = word;\n      } else if (props.loop) {\n        interateInsideDecrement(span, word, len, resolve);\n      } else if (index + 1 !== lengthWords) {\n        interateInsideDecrement(span, word, len, resolve);\n      }\n\n    })\n  }\n  return {init}\n}(this)));"]}